---
title: "R | Distill"
description: |
  Quickstart guide
author:
  - name: shikokuchuo
date: 05-04-2021
output:
  distill::distill_article:
    self_contained: false
    toc: true
---

```{r index, echo=FALSE}

photos <- file.path("_images", list.files("_images"))
develop <- function(x) {
  plot(imager::load.image(x), axes = FALSE)
  paste0(openssl::sha256(file(x)))
}
par(mar = c(0, 0, 0, 0))
data.frame(sha256 = develop(photos))

```
<aside>Shikokuchuo</aside>

### Installation

This website is created using [Distill](https://pkgs.rstudio.com/distill/) for R, a publication format for scientific and technical writing, native to the web.

Install release version from CRAN:

```{r distillinst, eval=FALSE}
install.packages("distill")
```

### Key advantages

- R markdown to run R code (more convenient than you may first think)
- Use markdown / html interchangeably
- No dependency on Hugo or Jekyll, so no lock-in or need to maintain those stacks
- Clean and attractive defaults, yet css themeable
- Mainly "just works"

### Distill blog hosted on Github Pages step-by-step instructions

1. Create a new blog at /blog of your current working directory in R:

```{r distill, eval=FALSE}
distill::create_blog(dir = "blog", title = "My New Blog", gh_pages = TRUE)
```

2. Make some inital changes to _site.yml. Select the 'build' tab in RStudio and hit 'Build Website'. This will generate the website. <br /><br />
**Note: building the website does not generate blog posts.** Each time the website is re-built, only the .Rmd files in the base directory will automatically be re-generated.

3. Modify the yaml front matter and content of the example blog post. Then hit 'Knit' in RStudio to generate the post. <br /><br />
**Note: after every change made to posts or after creating a new post, you must knit each post separately.** The listings page is then automatically updated.

4. Create README.md and CNAME file in /blog for your Github repository.
<aside> README.md is optional but expected practice for your repository. CNAME is a text file containing the domain name if using a custom domain.</aside>

5. Create a new repository at [Github](https://github.com/).

6. To set up git and add your new repository as a remote, bring up the command line, cd to your /blog directory and:

```{r github, eval=FALSE}
git init
git add .
git commit -m "initial commit"
git branch -M main
git remote add origin git@github.com:username/nameofnew.git
git push -u origin main
```
<aside><br />Replace 'username/nameofnew.git' as appropriate.</aside>

7. At Github, under your new repository, go to Settings >> Pages, set your source branch to 'main', and folder to 'docs'.<br />
Optionally tick 'Enforce HTTPS'. <br />
Your custom domain name should be configured automatically if you have previously set up your DNS settings to point to Github's servers.

Congratulations, your new website should now be online!

### References

The Distill Reference: https://rstudio.github.io/distill/

The Definitive R Markdown Guide: https://bookdown.org/yihui/rmarkdown/
