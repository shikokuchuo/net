<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:distill="https://distill.pub/journal/" version="2.0">
  <channel>
    <title>shikokuchuo{net}</title>
    <link>https://shikokuchuo.net/</link>
    <atom:link href="https://shikokuchuo.net/index.xml" rel="self" type="application/rss+xml"/>
    <description>shikokuchuo.net
</description>
    <image>
      <title>shikokuchuo{net}</title>
      <url>https://shikokuchuo.net/favicon.png</url>
      <link>https://shikokuchuo.net/</link>
    </image>
    <generator>Distill</generator>
    <lastBuildDate>Fri, 18 Feb 2022 00:00:00 +0000</lastBuildDate>
    <item>
      <title>Introducing mirai - a minimalist async evaluation framework for R</title>
      <dc:creator>shikokuchuo</dc:creator>
      <link>https://shikokuchuo.net/posts/16-introducing-mirai</link>
      <description>


&lt;img src="filef6925572a8f8_files/figure-html/index-1.png" width="672" /&gt;
&lt;aside&gt;
Shikokuchuo
&lt;/aside&gt;
&lt;p&gt;&lt;br /&gt; {mirai} is a minimalist async evaluation framework for R, released this week to CRAN.&lt;/p&gt;
&lt;p&gt;未来 みらい mirai is Japanese for ‘future’.&lt;/p&gt;
&lt;p&gt;It provides an extremely simple and lightweight method for concurrent / parallel code execution.&lt;/p&gt;
&lt;h3 id="design-notes"&gt;Design Notes&lt;/h3&gt;
&lt;p&gt;Whilst frameworks for parallelisation exist for R, {mirai} is designed for simplicity.&lt;/p&gt;
&lt;p&gt;The package provides just 2 functions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;eval_mirai()&lt;/code&gt; to evaluate async&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;call_mirai()&lt;/code&gt; to call the result&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;{mirai} has a tiny pure R code base, relying on a single package - {nanonext}. {nanonext} itself is a lightweight wrapper for the NNG C library with zero package dependencies.&lt;/p&gt;
&lt;p&gt;Background R processes are created and evaluation occurs independently. mirai employs nanonext/NNG as a concurrency framework - a blazing-fast, lightweight solution for moving data between these processes seamlessly. Crucially it provides a true cross-platform abstraction layer across Linux, Windows, MacOS, the BSDs, Solaris, Illumos etc. i.e. everywhere R can go. This means that we can just call the above two functions without worrying about the underlying system implementation.&lt;/p&gt;
&lt;p&gt;This means there is no need to specify core counts, devise work plans and the such beforehand. Also no need to separate writing code that is ready for parallel execution from how it is ultimately executed. Just wrap your expressions in &lt;code&gt;eval_mirai()&lt;/code&gt; and run them in another process.&lt;/p&gt;
&lt;p&gt;For scripts, this provides the ultimate control as you can map specific code to a specific process. For example if you have 8 model fits to run, you can send each one to it’s own process. This provides a simpler and more robust solution than leaving it to the system to decide, which also runs the risk of over-optimisation - you may wish to refer to this classic presentation on Python’s GIL (global interpreter lock): &lt;a href="http://www.dabeaz.com/python/GIL.pdf" class="uri"&gt;http://www.dabeaz.com/python/GIL.pdf&lt;/a&gt;. R inherits similar limitations being an interpreted language.&lt;/p&gt;
&lt;p&gt;It can be equally handy for interactive work - if you have specified a model, are now ready to fit it and know this will take an hour to run, simply &lt;code&gt;eval_mirai()&lt;/code&gt; and have it run in the background whilst you continue with your work. When you need the results just &lt;code&gt;call_mirai()&lt;/code&gt; for the return value.&lt;/p&gt;
&lt;h3 id="use-cases"&gt;Use Cases&lt;/h3&gt;
&lt;p&gt;Minimise execution times by performing long-running tasks concurrently in separate processes.&lt;/p&gt;
&lt;p&gt;Ensure execution flow of the main process is not blocked.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;library(mirai)&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id="example-1-compute-intensive-operations"&gt;Example 1: Compute-intensive Operations&lt;/h4&gt;
&lt;p&gt;Multiple long computes (model fits etc.) would take more time than if performed concurrently on available computing cores.&lt;/p&gt;
&lt;p&gt;Use &lt;code&gt;eval_mirai()&lt;/code&gt; to evaluate an expression in a separate R process asynchronously.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;All named objects are passed through to a clean environment&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A ‘mirai’ object is returned immediately.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;mirai &amp;lt;- eval_mirai(rnorm(n) + m, n = 1e8, m = runif(1))

mirai
#&amp;gt; &amp;lt; mirai &amp;gt;
#&amp;gt;  ~ use call_mirai() to resolve&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Continue running code concurrent to the async operation.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;# do more...&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Use &lt;code&gt;call_mirai()&lt;/code&gt; to retrieve the evaluated result when required.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;call_mirai(mirai)

mirai
#&amp;gt; &amp;lt; mirai &amp;gt;
#&amp;gt;  - $value for evaluated result

str(mirai$value)
#&amp;gt; num [1:100000000] 1.485 -0.804 0.965 -0.128 -0.555 ...&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id="example-2-io-bound-operations"&gt;Example 2: I/O-bound Operations&lt;/h4&gt;
&lt;p&gt;Processing high-frequency real-time data, writing results to file/database can be slow and potentially disrupt the execution flow.&lt;/p&gt;
&lt;p&gt;Cache data in memory and use &lt;code&gt;eval_mirai()&lt;/code&gt; to perform periodic write operations in a separate process.&lt;/p&gt;
&lt;p&gt;A ‘mirai’ object is returned immediately.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;mirai &amp;lt;- eval_mirai(write.csv(x, file = file), x = rnorm(1e8), file = tempfile())&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Use &lt;code&gt;call_mirai()&lt;/code&gt; to confirm the operation has completed.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;This will wait for the operation to complete if it is still ongoing&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class="r"&gt;&lt;code&gt;call_mirai(mirai)$value
#&amp;gt; NULL&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Above, the return value is called directly. NULL is the expected return value for &lt;code&gt;write.csv()&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id="links"&gt;Links&lt;/h3&gt;
&lt;p&gt;{mirai} website: &lt;a href="https://shikokuchuo.net/mirai/" class="uri"&gt;https://shikokuchuo.net/mirai/&lt;/a&gt;&lt;br /&gt; {mirai} on CRAN: &lt;a href="https://cran.r-project.org/package=mirai" class="uri"&gt;https://cran.r-project.org/package=mirai&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;{nanonext} website: &lt;a href="https://shikokuchuo.net/nanonext/" class="uri"&gt;https://shikokuchuo.net/nanonext/&lt;/a&gt;&lt;br /&gt; {nanonext} on CRAN: &lt;a href="https://cran.r-project.org/package=nanonext" class="uri"&gt;https://cran.r-project.org/package=nanonext&lt;/a&gt;&lt;/p&gt;
&lt;pre class="r distill-force-highlighting-css"&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;</description>
      <distill:md5>30e247135e8b25538ad50ff2a381c04e</distill:md5>
      <category>R</category>
      <guid>https://shikokuchuo.net/posts/16-introducing-mirai</guid>
      <pubDate>Fri, 18 Feb 2022 00:00:00 +0000</pubDate>
      <media:content url="https://shikokuchuo.net/posts/16-introducing-mirai/introducing-mirai_files/figure-html5/index-1.png" medium="image" type="image/png" width="1248" height="768"/>
    </item>
    <item>
      <title>nanonext for Cross-language Data Exchange</title>
      <dc:creator>shikokuchuo</dc:creator>
      <link>https://shikokuchuo.net/posts/15-nanonext-exchange</link>
      <description>A clean and robust approach to R / Python interoperability</description>
      <category>R</category>
      <guid>https://shikokuchuo.net/posts/15-nanonext-exchange</guid>
      <pubDate>Mon, 14 Feb 2022 00:00:00 +0000</pubDate>
      <media:content url="https://shikokuchuo.net/posts/15-nanonext-exchange/nanonext-exchange_files/figure-html5/index-1.png" medium="image" type="image/png" width="1248" height="768"/>
    </item>
    <item>
      <title>Installing an R Build Environment on Solaris</title>
      <dc:creator>shikokuchuo</dc:creator>
      <link>https://shikokuchuo.net/posts/14-r-on-solaris</link>
      <description>Run R CMD check or devtools::check() on a local Solaris VM</description>
      <category>R</category>
      <guid>https://shikokuchuo.net/posts/14-r-on-solaris</guid>
      <pubDate>Mon, 23 Aug 2021 00:00:00 +0000</pubDate>
      <media:content url="https://shikokuchuo.net/posts/14-r-on-solaris/r-on-solaris_files/figure-html5/index-1.png" medium="image" type="image/png" width="1248" height="768"/>
    </item>
    <item>
      <title>Reverting Git Commits</title>
      <dc:creator>shikokuchuo</dc:creator>
      <link>https://shikokuchuo.net/posts/13-reverting</link>
      <description>Procedure to roll back both local and remote changes</description>
      <category>R</category>
      <guid>https://shikokuchuo.net/posts/13-reverting</guid>
      <pubDate>Thu, 12 Aug 2021 00:00:00 +0000</pubDate>
      <media:content url="https://shikokuchuo.net/posts/13-reverting/reverting_files/figure-html5/index-1.png" medium="image" type="image/png" width="1248" height="768"/>
    </item>
    <item>
      <title>R Shiny interface for the OANDA fxTrade API</title>
      <dc:creator>shikokuchuo</dc:creator>
      <link>https://shikokuchuo.net/posts/12-oanda-studio</link>
      <description>ichimoku::oanda_studio()</description>
      <category>R</category>
      <guid>https://shikokuchuo.net/posts/12-oanda-studio</guid>
      <pubDate>Mon, 26 Jul 2021 00:00:00 +0000</pubDate>
      <media:content url="https://shikokuchuo.net/posts/12-oanda-studio/oanda-studio_files/figure-html5/index-1.png" medium="image" type="image/png" width="1248" height="768"/>
    </item>
    <item>
      <title>Efficient R: Performant data.frame constructors</title>
      <dc:creator>shikokuchuo</dc:creator>
      <link>https://shikokuchuo.net/posts/11-dataframes</link>
      <description>How and when to use an alternative to as.data.frame</description>
      <category>R</category>
      <guid>https://shikokuchuo.net/posts/11-dataframes</guid>
      <pubDate>Fri, 23 Jul 2021 00:00:00 +0000</pubDate>
      <media:content url="https://shikokuchuo.net/posts/11-dataframes/dataframes_files/figure-html5/index-1.png" medium="image" type="image/png" width="1248" height="768"/>
    </item>
    <item>
      <title>Efficient R: Combinations using expand.grid</title>
      <dc:creator>shikokuchuo</dc:creator>
      <link>https://shikokuchuo.net/posts/10-combinations</link>
      <description>A faster way to generate combinations for mapply and vapply</description>
      <category>R</category>
      <guid>https://shikokuchuo.net/posts/10-combinations</guid>
      <pubDate>Thu, 17 Jun 2021 00:00:00 +0000</pubDate>
      <media:content url="https://shikokuchuo.net/posts/10-combinations/combinations_files/figure-html5/index-1.png" medium="image" type="image/png" width="1248" height="768"/>
    </item>
    <item>
      <title>Efficient R: do.call / lapply</title>
      <dc:creator>shikokuchuo</dc:creator>
      <link>https://shikokuchuo.net/posts/09-docall-lapply</link>
      <description>A distinctive coding style</description>
      <category>R</category>
      <guid>https://shikokuchuo.net/posts/09-docall-lapply</guid>
      <pubDate>Fri, 28 May 2021 00:00:00 +0000</pubDate>
      <media:content url="https://shikokuchuo.net/posts/09-docall-lapply/docall-lapply_files/figure-html5/index-1.png" medium="image" type="image/png" width="1248" height="768"/>
    </item>
    <item>
      <title>ichimoku</title>
      <dc:creator>shikokuchuo</dc:creator>
      <link>https://shikokuchuo.net/posts/08-ichimoku</link>
      <description>R package for Ichimoku Kinko Hyo cloud charts</description>
      <category>R</category>
      <category>Quantitative Finance</category>
      <guid>https://shikokuchuo.net/posts/08-ichimoku</guid>
      <pubDate>Wed, 19 May 2021 00:00:00 +0000</pubDate>
      <media:content url="https://shikokuchuo.net/posts/08-ichimoku/ichimoku_files/figure-html5/index-1.png" medium="image" type="image/png" width="1248" height="768"/>
    </item>
    <item>
      <title>Resources for learning</title>
      <dc:creator>shikokuchuo</dc:creator>
      <link>https://shikokuchuo.net/posts/07-learning</link>
      <description>A curated selection of online MOOCs</description>
      <category>Resources</category>
      <category>Learning</category>
      <guid>https://shikokuchuo.net/posts/07-learning</guid>
      <pubDate>Fri, 14 May 2021 00:00:00 +0000</pubDate>
      <media:content url="https://shikokuchuo.net/posts/07-learning/learning_files/figure-html5/index-1.png" medium="image" type="image/png" width="1248" height="768"/>
    </item>
    <item>
      <title>Datasets</title>
      <dc:creator>shikokuchuo</dc:creator>
      <link>https://shikokuchuo.net/posts/06-datasets</link>
      <description>For Econometrics and Machine Learning</description>
      <category>Resources</category>
      <category>Data</category>
      <guid>https://shikokuchuo.net/posts/06-datasets</guid>
      <pubDate>Wed, 05 May 2021 00:00:00 +0000</pubDate>
      <media:content url="https://shikokuchuo.net/posts/06-datasets/datasets_files/figure-html5/index-1.png" medium="image" type="image/png" width="1248" height="768"/>
    </item>
    <item>
      <title>Distill for R Markdown</title>
      <dc:creator>shikokuchuo</dc:creator>
      <link>https://shikokuchuo.net/posts/04-distill</link>
      <description>Web publishing optimised for scientific and technical communication</description>
      <category>R</category>
      <guid>https://shikokuchuo.net/posts/04-distill</guid>
      <pubDate>Tue, 04 May 2021 00:00:00 +0000</pubDate>
      <media:content url="https://shikokuchuo.net/posts/04-distill/distill_files/figure-html5/index-1.png" medium="image" type="image/png" width="1248" height="768"/>
    </item>
    <item>
      <title>Github Actions with R</title>
      <dc:creator>shikokuchuo</dc:creator>
      <link>https://shikokuchuo.net/posts/05-ghactions</link>
      <description>Deploy and automate your code to the cloud</description>
      <category>R</category>
      <guid>https://shikokuchuo.net/posts/05-ghactions</guid>
      <pubDate>Tue, 04 May 2021 00:00:00 +0000</pubDate>
      <media:content url="https://shikokuchuo.net/posts/05-ghactions/ghactions_files/figure-html5/index-1.png" medium="image" type="image/png" width="1248" height="768"/>
    </item>
    <item>
      <title>R | Selenium</title>
      <dc:creator>shikokuchuo</dc:creator>
      <link>https://shikokuchuo.net/posts/03-rselenium</link>
      <description>Programmatically drive a web browser</description>
      <category>R</category>
      <guid>https://shikokuchuo.net/posts/03-rselenium</guid>
      <pubDate>Mon, 03 May 2021 00:00:00 +0000</pubDate>
      <media:content url="https://shikokuchuo.net/posts/03-rselenium/rselenium_files/figure-html5/index-1.png" medium="image" type="image/png" width="1248" height="768"/>
    </item>
    <item>
      <title>Resources for global sustainability</title>
      <dc:creator>shikokuchuo</dc:creator>
      <link>https://shikokuchuo.net/posts/02-resources</link>
      <description>A compendium</description>
      <category>Resources</category>
      <category>Sustainability</category>
      <guid>https://shikokuchuo.net/posts/02-resources</guid>
      <pubDate>Sun, 02 May 2021 00:00:00 +0000</pubDate>
      <media:content url="https://shikokuchuo.net/posts/02-resources/resources_files/figure-html5/index-1.png" medium="image" type="image/png" width="1248" height="768"/>
    </item>
    <item>
      <title>Authenticating photography using cryptographic hashing</title>
      <dc:creator>shikokuchuo</dc:creator>
      <link>https://shikokuchuo.net/posts/01-authenticating</link>
      <description>A proof of concept using R</description>
      <category>Photography</category>
      <category>Cryptography</category>
      <guid>https://shikokuchuo.net/posts/01-authenticating</guid>
      <pubDate>Sat, 01 May 2021 00:00:00 +0000</pubDate>
      <media:content url="https://shikokuchuo.net/posts/01-authenticating/authenticating_files/figure-html5/index-1.png" medium="image" type="image/png" width="1248" height="768"/>
    </item>
  </channel>
</rss>
